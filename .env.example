# =============================================================================
# AutoSelect - Car Ordering Platform
# Environment Configuration Template
# =============================================================================
# Copy this file to .env and update with your actual values
# NEVER commit .env files with real credentials to version control
# =============================================================================

# -----------------------------------------------------------------------------
# Application Environment
# -----------------------------------------------------------------------------
NODE_ENV=development
ENVIRONMENT=development

# -----------------------------------------------------------------------------
# Backend Service Configuration
# -----------------------------------------------------------------------------
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000
BACKEND_WORKERS=4
BACKEND_RELOAD=true

# API Configuration
API_V1_PREFIX=/api/v1
API_TITLE=AutoSelect API
API_VERSION=1.0.0
API_DESCRIPTION=Car Ordering Platform API

# -----------------------------------------------------------------------------
# Frontend Service Configuration
# -----------------------------------------------------------------------------
FRONTEND_HOST=0.0.0.0
FRONTEND_PORT=3000
VITE_API_URL=http://localhost:8000

# -----------------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# -----------------------------------------------------------------------------
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=autoselect
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres

# Database Connection Pool
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600
DB_ECHO=false

# Database URL (constructed from above or override)
DATABASE_URL=postgresql://postgres:postgres@postgres:5432/autoselect

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_MAX_CONNECTIONS=50
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# Redis URL (constructed from above or override)
REDIS_URL=redis://redis:6379/0

# Cache Configuration
CACHE_TTL=3600
CACHE_KEY_PREFIX=autoselect

# -----------------------------------------------------------------------------
# Security Configuration
# -----------------------------------------------------------------------------
# JWT Configuration
JWT_SECRET_KEY=your-secret-key-change-in-production-min-32-chars
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Password Hashing
PASSWORD_HASH_SCHEMES=bcrypt
PASSWORD_BCRYPT_ROUNDS=12

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://localhost:8000
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_ALLOW_HEADERS=*

# Security Headers
SECURE_HEADERS_ENABLED=true
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
LOG_LEVEL=info
LOG_FORMAT=json
LOG_OUTPUT=stdout
LOG_FILE_PATH=/var/log/autoselect/app.log
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=5

# Request Logging
LOG_REQUESTS=true
LOG_RESPONSES=false
LOG_REQUEST_BODY=false
LOG_RESPONSE_BODY=false

# -----------------------------------------------------------------------------
# Performance Configuration
# -----------------------------------------------------------------------------
# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=10

# Request Timeout
REQUEST_TIMEOUT=30
SLOW_REQUEST_THRESHOLD=1000

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
FEATURE_VEHICLE_CONFIGURATION=true
FEATURE_ORDER_TRACKING=true
FEATURE_INVENTORY_MANAGEMENT=true
FEATURE_USER_REGISTRATION=true
FEATURE_ADMIN_PANEL=false

# -----------------------------------------------------------------------------
# Email Configuration (Optional)
# -----------------------------------------------------------------------------
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=noreply@autoselect.com
SMTP_PASSWORD=your-smtp-password
SMTP_FROM_EMAIL=noreply@autoselect.com
SMTP_FROM_NAME=AutoSelect
SMTP_USE_TLS=true

# -----------------------------------------------------------------------------
# File Storage Configuration (Optional)
# -----------------------------------------------------------------------------
STORAGE_TYPE=local
STORAGE_LOCAL_PATH=/app/storage
STORAGE_MAX_FILE_SIZE=10485760

# AWS S3 Configuration (if using S3)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=autoselect-storage

# -----------------------------------------------------------------------------
# Monitoring and Observability (Optional)
# -----------------------------------------------------------------------------
# Sentry
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# Prometheus
METRICS_ENABLED=false
METRICS_PORT=9090

# Health Check
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=5

# -----------------------------------------------------------------------------
# Development Tools
# -----------------------------------------------------------------------------
# Debug Mode
DEBUG=false
PYTHONUNBUFFERED=1

# Hot Reload
WATCHFILES_FORCE_POLLING=false

# Testing
TEST_DATABASE_URL=postgresql://postgres:postgres@postgres:5432/autoselect_test
PYTEST_WORKERS=auto

# -----------------------------------------------------------------------------
# Docker Configuration
# -----------------------------------------------------------------------------
COMPOSE_PROJECT_NAME=autoselect
COMPOSE_FILE=docker-compose.yml

# Container Resource Limits
BACKEND_MEMORY_LIMIT=512m
BACKEND_CPU_LIMIT=1.0
FRONTEND_MEMORY_LIMIT=512m
FRONTEND_CPU_LIMIT=1.0
POSTGRES_MEMORY_LIMIT=1g
POSTGRES_CPU_LIMIT=2.0
REDIS_MEMORY_LIMIT=256m
REDIS_CPU_LIMIT=0.5

# -----------------------------------------------------------------------------
# Production Overrides (Set these in production environment)
# -----------------------------------------------------------------------------
# NODE_ENV=production
# ENVIRONMENT=production
# DEBUG=false
# BACKEND_RELOAD=false
# DB_ECHO=false
# LOG_LEVEL=warning
# JWT_SECRET_KEY=<generate-strong-random-key>
# POSTGRES_PASSWORD=<strong-database-password>
# REDIS_PASSWORD=<strong-redis-password>
# CORS_ORIGINS=https://yourdomain.com
# SENTRY_DSN=<your-sentry-dsn>
# METRICS_ENABLED=true

# -----------------------------------------------------------------------------
# Scaling Configuration (Production)
# -----------------------------------------------------------------------------
# BACKEND_WORKERS=8
# DB_POOL_SIZE=50
# DB_MAX_OVERFLOW=20
# REDIS_MAX_CONNECTIONS=100
# RATE_LIMIT_PER_MINUTE=1000

# -----------------------------------------------------------------------------
# Notes
# -----------------------------------------------------------------------------
# 1. Generate secure JWT_SECRET_KEY: openssl rand -hex 32
# 2. Use strong passwords for POSTGRES_PASSWORD and REDIS_PASSWORD
# 3. Update CORS_ORIGINS with your actual frontend domain
# 4. Configure SMTP settings for email notifications
# 5. Set up Sentry for error tracking in production
# 6. Enable metrics collection for monitoring
# 7. Adjust resource limits based on your infrastructure
# 8. Review and update all security-related settings before deployment
# =============================================================================